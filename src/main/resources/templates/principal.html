<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Eventify | Gestión de Eventos</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        :root{
            --primary:#0d1b2a;
            --secondary:#1b9aaa;
            --accent:#f9c80e;
            --light:#e0e1dd;
            --dark:#02040a;
        }
        *{margin:0;padding:0;box-sizing:border-box;font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;}
        body{background:var(--light);color:var(--dark);}
        header{
            background:linear-gradient(135deg,var(--primary),var(--secondary));
            color:#fff;
            padding:2rem 1rem;
            text-align:center;
            position:relative;
            overflow:hidden;
        }
        header::after{
            content:"";
            position:absolute;
            top:-50%;left:-50%;
            width:200%;height:200%;
            background:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320"><path fill="%23ffffff10" d="M0,96L48,112C96,128,192,160,288,160C384,160,480,128,576,122.7C672,117,768,139,864,154.7C960,171,1056,181,1152,165.3C1248,149,1344,107,1392,85.3L1440,64L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"></path></svg>') no-repeat bottom;
            animation:wave 18s linear infinite;
        }
        @keyframes wave{0%{transform:translateX(0)}100%{transform:translateX(-50%)}}
        header h1{font-size:2.8rem;margin-bottom:.5rem;letter-spacing:1px;}
        header p{font-size:1.1rem;opacity:.9;}
        
        .user-info {
            position: absolute;
            top: 1rem;
            right: 1rem;
            color: white;
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        
        .logout-btn {
            background: var(--accent);
            color: var(--dark);
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            cursor: pointer;
            font-weight: bold;
            transition: background 0.3s;
        }
        
        .logout-btn:hover {
            background: #ffd60a;
        }
        
        nav{background:var(--primary);display:flex;justify-content:center;flex-wrap:wrap;padding:.5rem 0;}
        nav a{
            color:#fff;
            text-decoration:none;
            padding:.8rem 1.2rem;
            margin:.2rem .3rem;
            border-radius:25px;
            background:var(--secondary);
            transition:.3s;
            position:relative;
            overflow:hidden;
        }
        nav a::before{
            content:"";
            position:absolute;
            top:50%;left:50%;
            width:0;height:0;
            background:var(--accent);
            border-radius:50%;
            transform:translate(-50%,-50%);
            transition:.4s;
            z-index:0;
        }
        nav a:hover::before{width:250px;height:250px;}
        nav a span{position:relative;z-index:1;}
        main{padding:2rem 1rem;max-width:1200px;margin:auto;}
        section{margin-bottom:2.5rem;}
        h2{margin-bottom:1rem;color:var(--primary);}
        .cards{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1.5rem;}
        .card{
            background:#fff;
            border-radius:12px;
            padding:1.5rem;
            box-shadow:0 4px 10px rgba(0,0,0,.1);
            transition:.3s;
            position:relative;
            overflow:hidden;
        }
        .card:hover{transform:translateY(-5px);}
        .card::after{
            content:"";
            position:absolute;
            bottom:0;left:0;
            height:4px;width:0;
            background:var(--accent);
            transition:.4s;
        }
        .card:hover::after{width:100%;}
        .card h3{margin-bottom:.5rem;color:var(--secondary);}
        .card p{color:#555;line-height:1.5;}
        footer{
            text-align:center;
            padding:1.5rem 1rem;
            background:var(--primary);
            color:#fff;
            font-size:.9rem;
        }
        .qr{
            display:inline-block;
            margin-top:1rem;
            padding:.6rem 1.2rem;
            background:var(--accent);
            color:var(--dark);
            border:none;
            border-radius:25px;
            font-weight:bold;
            cursor:pointer;
            transition:.3s;
        }
        .qr:hover{background:#ffd60a;}
        modal{
            position:fixed;
            top:0;left:0;
            width:100%;height:100%;
            background:rgba(0,0,0,.6);
            display:flex;
            align-items:center;
            justify-content:center;
            visibility:hidden;
            opacity:0;
            transition:.3s;
            z-index:999;
        }
        modal-content{
            background:#fff;
            border-radius:12px;
            padding:2rem;
            max-width:400px;
            width:90%;
            text-align:center;
            position:relative;
        }
        modal-content span{
            position:absolute;
            top:10px;right:15px;
            font-size:1.5rem;
            cursor:pointer;
            color:#888;
        }
        modal.show{visibility:visible;opacity:1;}
        
        /* Formulario de logout oculto */
        #logoutForm {
            display: none;
        }
    </style>
</head>
<body>
    <header>
        <div class="user-info">
            <span>Bienvenido, <span th:text="${#authentication.name}">Usuario</span></span>
            <button class="logout-btn" onclick="document.getElementById('logoutForm').submit()">Cerrar Sesión</button>
        </div>
        <h1>Eventify</h1>
        <p>Plataforma integral de gestión de eventos, venta de entradas y control de aforo</p>
    </header>

    <!-- Formulario de logout -->
    <form id="logoutForm" method="POST" th:action="@{/logout}">
        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
    </form>

    <nav>
        <a href="/eventos"><span>Registro de Eventos</span></a>
        <a href="/usuarios"><span>Gestión de Usuarios</span></a>
        <a href="#ventas"><span>Venta de Entradas</span></a>
        <a href="#pagos"><span>Pagos</span></a>
        <a href="#aforo"><span>Control de Aforo</span></a>
        <a href="#stats"><span>Estadísticas</span></a>
        <a href="#cliente"><span>Cliente</span></a>
        <a href="#empleado"><span>Empleado</span></a>
    </nav>

    <main>
        <section id="registro">
            <h2>Registro de Eventos</h2>
            <div class="cards">
                <div class="card">
                    <h3>Conciertos</h3>
                    <p>Crea eventos musicales con horarios, artistas y ubicación. Genera entradas con códigos QR únicos.</p>
                    <button class="qr" onclick="openModal('Concierto')">Crear Concierto</button>
                </div>
                <div class="card">
                    <h3>Conferencias</h3>
                    <p>Programa ponencias, oradores y salas. Controla capacidad y emite credenciales digitales.</p>
                    <button class="qr" onclick="openModal('Conferencia')">Crear Conferencia</button>
                </div>
                <div class="card">
                    <h3>Talleres</h3>
                    <p>Organiza cursos prácticos, gestiona grupos reducidos y materiales. Incluye encuestas post-evento.</p>
                    <button class="qr" onclick="openModal('Taller')">Crear Taller</button>
                </div>
            </div>
        </section>

        <section id="ventas">
            <h2>Venta de Entradas Online</h2>
            <div class="cards">
                <div class="card">
                    <h3>Entrada Digital + QR</h3>
                    <p>El comprador recibe un código QR único que puede imprimir o guardar en el móvil para acceso rápido.</p>
                    <button class="qr" onclick="openModal('Venta')">Simular Venta</button>
                </div>
                <div class="card">
                    <h3>Prevención de Fraudes</h3>
                    <p>Cada código se valida en tiempo real y se marca como usado al escanearlo, evitando duplicados.</p>
                </div>
                <div class="card">
                    <h3>Descuentos y Promociones</h3>
                    <p>Aplica cupones, ventas anticipadas o precios por grupos desde el panel de ventas.</p>
                </div>
            </div>
        </section>

        <section id="pagos">
            <h2>Integración de Pagos</h2>
            <div class="cards">
                <div class="card">
                    <h3>Stripe</h3>
                    <p>Pagos con tarjeta de crédito/débito en un clic. Soporte para 3D Secure y devoluciones parciales.</p>
                </div>
                <div class="card">
                    <h3>PayPal</h3>
                    <p>Permite a tus clientes pagar con su cuenta PayPal o financiación. Recibe el dinero al instante.</p>
                </div>
                <div class="card">
                    <h3>Divisas y Recibos</h3>
                    <p>Cobertura internacional con conversión automática y generación de factura fiscal en PDF.</p>
                </div>
            </div>
        </section>

        <section id="aforo">
            <h2>Control de Aforo</h2>
            <div class="cards">
                <div class="card">
                    <h3>Aforo en Tiempo Real</h3>
                    <p>Visualiza cuántas personas hay dentro del recinto y cuántas entradas quedan disponibles.</p>
                </div>
                <div class="card">
                    <h3>Acceso por Puertas</h3>
                    <p>Asigna diferentes puntos de entrada/salida y controla el flujo para evitar aglomeraciones.</p>
                </div>
                <div class="card">
                    <h3>Alertas Automáticas</h3>
                    <p>Recibe notificaciones cuando se alcance el 80 %, 90 % o 100 % de la capacidad permitida.</p>
                </div>
            </div>
        </section>

        <section id="stats">
            <h2>Estadísticas y Reportes</h2>
            <div class="cards">
                <div class="card">
                    <h3>Ventas por Evento</h3>
                    <p>Gráficos de barras y líneas con ingresos, entradas vendidas y devoluciones.</p>
                </div>
                <div class="card">
                    <h3>Asistencia Real</h3>
                    <p>Compara entradas vendidas vs. personas que efectivamente ingresaron.</p>
                </div>
                <div class="card">
                    <h3>Exportación</h3>
                    <p>Descarga reportes en Excel, CSV o PDF para contabilidad o marketing.</p>
                </div>
            </div>
        </section>
    </main>

    <footer>
        © 2025 Eventify | Todos los derechos reservados | Gestión de eventos a otro nivel
    </footer>

    <modal id="modal">
        <modal-content>
            <span onclick="closeModal()">&times;</span>
            <h2 id="modalTitle">Funcionalidad</h2>
            <p id="modalText">Próximamente podrás gestionar esta acción desde el panel administrativo.</p>
            <button class="qr" onclick="closeModal()">Cerrar</button>
        </modal-content>
    </modal>

    <script>
        function openModal(type){
            const modal=document.getElementById('modal');
            document.getElementById('modalTitle').textContent=type;
            document.getElementById('modalText').textContent=`Estás a punto de crear/gestionar un ${type}. Esta acción abrirá el formulario completo en la siguiente fase del proyecto.`;
            modal.classList.add('show');
        }
        function closeModal(){
            document.getElementById('modal').classList.remove('show');
        }
    </script>
</body>
</html>